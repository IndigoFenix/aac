Implement the full logic for the Referral & Credit Reward System ($\text{C.7}$) to drive organic user acquisition (UA) by incentivizing existing Care Partners to invite new users. The core system is based on two atomic credit transactions upon successful sign-up.User Story (Recap)As a Care Partner, I want to easily share my unique Invite Code with another family or SLP, so that when the new user signs up and uses the code, both of us automatically receive a bonus of 50 free CommuniACCte interpretation credits.Technical Requirements & Flow1. Database & User Model UpdateUser Table: Add two new fields:referral_code (Unique, Auto-Generated on user creation, e.g., XAHAPH-12A7B).referred_by_id (Nullable Foreign Key to User.id).Transaction/Credit Service: Ensure an existing service handles atomic credit updates (add/subtract).2. Sign-Up API Logic HookThe Sign-Up POST endpoint must be updated to accept an optional query parameter: referral_code.Input: User data ($\text{email, password}$) + optional referral_code.Validation:If referral_code is present, look up the referrer_user in the database.If the code is valid (matches an existing user and the referrer is not the new user): Store the referrer_user.id temporarily.If the code is invalid (or not present): Proceed with normal sign-up.New User Creation: Create the new user and auto-generate their unique $\text{referral\_code}$. If a valid code was provided, populate the new user's referred_by_id with the referrer_user.id.3. Atomic Credit Transaction ($50 / 50$)Trigger: Immediately following successful new user creation (Step 2), if referred_by_id is populated, execute the following two credit transactions atomically:Reward New User: Add $\text{+50}$ $\text{CommuniACCte}$ interpretation credits to the New User's balance.Reward Referrer: Add $\text{+50}$ $\text{CommuniACCte}$ interpretation credits to the Referrer's balance (via $\text{referred\_by\_id}$).Error Handling: If the transaction for either user fails, the entire Sign-Up and Credit Transaction must be logged as a failure and reconciled.Acceptance Criteria (Tests)The feature is complete when the following acceptance tests pass:New User Referral: A new user signs up with a valid referral code. The new user's credit balance increases by 50, and the referrer's credit balance increases by 50.New User No Referral: A new user signs up without a referral code. Their credit balance remains 0 (or the default new user amount), and no other user's balance is affected.Invalid Code: A new user signs up with a non-existent code. The system logs an invalid code error but successfully creates the new user (without credit/referral link).Self-Referral Prevention: Attempting to use one's own referral code during sign-up fails the code validation, and no credit is rewarded.UX Integration: The $\text{Care Partner}$ can easily find and copy their unique $\text{referral\_code}$ in the Account Settings UI.